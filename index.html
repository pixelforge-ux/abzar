<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>جعبه ابزار</title>
    <script type="importmap">
    {
        "imports": {
            "three": "https://esm.sh/three@0.160.0",
            "three/addons/": "https://esm.sh/three@0.160.0/examples/jsm/",
            "lucide": "https://esm.sh/lucide@0.344.0",
            "moment": "https://esm.sh/moment@2.30.1",
            "moment-jalaali": "https://esm.sh/moment-jalaali@0.10.0"
        }
    }
    </script>
    <link rel="stylesheet" href="style.css">
    <script src="https://developer.eitaa.com/eitaa-web-app.js"></script>
</head>
<body data-theme="light">
    <!-- Splash Screen -->
    <div id="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512.004 512.004" xml:space="preserve" fill="#000000">
  <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path style="fill:#6EBEC5;" d="M74.982,437.02c-99.973-99.973-99.973-262.062,0-362.04c99.973-99.973,262.062-99.973,362.04,0 c99.973,99.973,99.973,262.062,0,362.04C337.044,536.998,174.955,536.998,74.982,437.02L74.982,437.02z"></path> <path style="fill:#CEE6E8;" d="M437.017,437.02l-0.527,0.527L437.017,437.02L437.017,437.02z M437.16,436.877l-0.143,0.143 L437.16,436.877L437.16,436.877z M437.309,436.733l-0.108,0.108L437.309,436.733L437.309,436.733z M437.447,436.59l-0.087,0.087 L437.447,436.59L437.447,436.59z M437.59,436.447l-0.077,0.077L437.59,436.447L437.59,436.447z M437.734,436.303l-0.061,0.067 L437.734,436.303L437.734,436.303z M437.877,436.16l-0.061,0.061L437.877,436.16L437.877,436.16z M438.015,436022l-0.056,0.056 L438.015,436.022L438.015,436.022z M438.159,435.878l-0.051,0.051L438.159,435.878L438.159,435.878z M438.297,435.735l-0.036,0.036 L438.297,435.735L438.297,435.735z M438.435,435.597l-0.036,0.036L438.435,435.597L438.435,435.597z M438.573,435.453l-0.026,0.026 L438.573,435.453L438.573,435.453z M438.707,435.315l-0.015,0.015L438.707,435.315L438.707,435.315z M438.84,435.182 L438.84,435.182L438.84,435.182L438.84,435.182z"></path> <path style="fill:#59ABB3;" d="M104.637,346.483l0.01,4.46H75.335c2.493,5.545,6.246,10.373,10.844,14.234 c1.546,1.869,17.444,17.664,18.56,18.734l0.02,5.857l-0.082-26.675L104.637,346.483L104.637,346.483z M104.504,291.08 L104.504,291.08l0.01,4.275c-13.046,2.412-23.885,11.1-29.179,22.876l29.292,25.626L104.504,291.08L104.504,291.08z M104.591,278.249L104.591,278.249L104.591,278.249L104.591,278.249L104.591,278.249z M411.509,163.167 c3.256,4.454,5.181,9.948,5.181,15.892v88.008l-9.431,11.182l-0.02,12.831l-0.082,72.023v26.947h-17.413H122.255h-17.5 l122.998,120.34c9.4,1.039,18.852,1.556,28.298,1.556c65.275,0,130.529-24.765,180.439-74.394l0.527-0.527l0.143-0.143l0.036-0.036 l0.108-0.108l0.056-0.056l0.087-0.087l0.067-0.067l0.077-0.077l0.077-0.077l0.061-0.067l0.082-0.082l0.061-0.061l0.087-0.087 l0.056-0.056l0.087-0.092l0.051-0.051l0.102-0.102l0.036-0.036l0.108-0.108l0.036-0.036l0.113-0.113l0.026-0.026l0.123-0.123 l0.015-0.015l0.133-0.133l0,0c46.945-47.887,71.229-109.645,72.986-171.919C510.822,262.188,418.554,169.797,411.509,163.167 L411.509,163.167z M121.645,152.118c-14.602,0.323-26.337,12.262-26.337,26.941C95.308,164.38,107.043,152.44,121.645,152.118 L121.645,152.118z M390.046,152.113h0.01H390.046L390.046,152.113z M389.939,152.113h0.02H389.939L389.939,152.113z M389.841,152.107h0.026H389.841L389.841,152.107z M313.86,90.596H198.686v61.517h129.188h47.488v-0.01h-5.125L313.86,90.596 L313.86,90.596z"></path> <path style="fill:#F1B14F;" d="M389.744,152.107H122.255c-14.884,0-26.947,12.063-26.947,26.947v88.008l9.283,11.182l-0.082,12.831 l0.169,72.023l0.082,26.947h17.5h267.489h17.413v-26.947l0.082-72.023l0.02-12.831l9.431-11.182v-88.003 C416.691,164.175,404.628,152.107,389.744,152.107L389.744,152.107z"></path> <path style="fill:#E46A5D;" d="M416.691,224.315v-45.261c0-14.884-12.063-26.947-26.947-26.947H122.255 c-14.884,0-26.947,12.063-26.947,26.947v45.261H416.691L416.691,224.315z"></path> <path style="fill:#F0A044;" d="M327.874,278.249H198.686v111.8h-14.561v-111.8v111.8h143.749L327.874,278.249L327.874,278.249z M327.874,229.983H198.686v37.084h129.188V229.983L327.874,229.983z"></path> <path style="fill:#EF903B;" d="M198.686,278.249h-14.561v111.8h14.561V278.249L198.686,278.249z M198.686,229.983h-14.561v37.084 h14.561V229.983L198.686,229.983z"></path> <polygon style="fill:#59928E;" points="95.308,267.067 95.308,267.067 104.555,278.249 104.586,278.249 "></polygon> <path style="fill:#F0973E;" d="M184.125,267.067H95.308l9.277,11.182h79.539L184.125,267.067L184.125,267.067z M416.691,267.067 h-88.817v11.182h79.386L416.691,267.067L416.691,267.067z"></path> <polygon style="fill:#EF8836;" points="327.874,267.067 198.686,267.067 198.686,278.249 327.874,278.249 "></polygon> <polygon style="fill:#EE7B2F;" points="198.686,267.067 184.125,267.067 184.125,278.249 198.686,278.249 "></polygon> <path style="fill:#F5C984;" d="M118.625,224.315H95.308v0.072h23.316L118.625,224.315L118.625,224.315z M184.125,224.315h-21.074 v0.072h21.074V224.315L184.125,224.315z M350.54,224.315h-22.666v0.072h22.666V224.315L350.54,224.315z M416.691,218.801 L416.691,218.801v5.519h-21.724v0.072h21.724L416.691,218.801L416.691,218.801z"></path> <path style="fill:#E35A49;" d="M118.625,218.801H95.308v5.519h23.316L118.625,218.801L118.625,218.801z M350.54,218.801h-22.666 v5.519H184.125v-5.519h-21.074v5.519h21.074h14.561h129.188h22.666L350.54,218.801L350.54,218.801z M416.691,218.801h-21.724v5.519 h21.724L416.691,218.801L416.691,218.801z"></path> <polygon style="fill:#EF8836;" points="327.874,224.315 198.686,224.315 198.686,224.392 327.874,224.392 "></polygon> <polygon style="fill:#EE7B2F;" points="198.686,224.315 184.125,224.315 184.125,224.392 198.686,224.392 "></polygon> <path style="fill:#F5BD7C;" d="M327.874,224.392 198.686,224.392 198.686,229.983 327.874,229.983 "></path> <polygon style="fill:#F4B276;" points="198.686,224.392 184.125,224.392 184.125,229.983 198.686,229.983 "></polygon> <polygon style="fill:#DD574B;" points="327.874,152.107 184.125,152.107 198.686,168.051 198.686,218.801 327.874,218.801 "></polygon> <polygon style="fill:#DC4A3B;" points="327.874,218.801 198.686,218.801 198.686,224.315 184.125,224.315 184.125,218.801 184.125,224.315 327.874,224.315 "></polygon> <polygon style="fill:#D6483D;" points="184.125,152.107 184.125,152.107 184.125,218.801 198.686,218.801 198.686,168.051 "></polygon> <polygon style="fill:#D53D30;" points="198.686,218.801 184.125,218.801 184.125,224.315 198.686,224.315 "></polygon> <polygon style="fill:#5AABB3;" points="118.625,245.665 163.051,245.665 163.051,203.901 118.625,203.901 "></polygon> <polygon style="fill:#5AABB3;" points="350.54,203.901 350.54,245.665 394.966,245.665 394.966,203.901 "></polygon> <polygon style="fill:#31848E;" points="163.051,224.392 118.625,224.392 118.625,245.665 163.051,245.665 "></polygon> <polygon style="fill:#31848E;" points="394.966,224.392 350.54,224.392 350.54,245.665 394.966,245.665 "></polygon> <polygon style="fill:#FFFFFF;" points="198.686,90.596 198.686,152.107 207.155,152.107 207.155,107.912 305.392,107.912 305.392,152.107 313.86,152.107 313.86,90.596 "></polygon> <rect x="207.073" y="100.452" style="fill:#CEEAF2;" width="98.304" height="7.46"></rect> <path style="fill:#FFFFFF;" d="M247.285,350.047h-98.642c-6.047,14.397-20.27,24.515-36.864,24.515 c-16.241,0-30.188-9.702-36.444-23.613h39.414l9.441-16.358l-9.441-16.358H75.335c6.257-13.911,20.204-23.613,36.444-23.613 c16.594,0,30.822,10.112,36.864,24.515h98.637c5.586-10.701,16.768-18.017,29.67-18.017c13.599,0,25.283,8.125,30.52,19.773 h-33.009l-7.91,13.696l7.91,13.696h33.009c-5.238,11.648-16.922,19.773-30.52,19.773 C264.053,368.059,252.871,360.747,247.285,350.047z"></path> <path style="fill:#CEEAF2;" d="M247.285,350.047h-98.642c-6.047,14.397-20.27,24.515-36.864,24.515 c-16.241,0-30.193-9.702-36.444-23.613h39.414l9.441-16.358h142.372l7.91,13.696h33.009c-5.238,11.648-16.922,19.773-30.52,19.773 C264.053,368.059,252.871,360.747,247.285,350.047z"></path> <path style="fill:#3194B0;" d="M431.088,331.994l-17.572-30.438h-35.149l-17.577,30.438l17.577,30.438h35.149L431.088,331.994z M380.794,331.994c0-8.366,6.779-15.145,15.145-15.145s15.145,6.779,15.145,15.145s-6.779,15.145-15.145,15.145 S380.794,340.36,380.794,331.994z"></path> <path style="fill:#2B8199;" d="M431.088,331.994h-20.004c0,8.366-6.779,15.145-15.145,15.145s-15.145-6.779-15.145-15.145H360.79 l17.572,30.438h35.149L431.088,331.994z"></path> </g> </g></svg>
            </div>
            <h1>جعبه ابزار</h1>
            <p class="creator-tag">کاری از سید آروین موسوی</p>
            <div class="loading-container">
                <div class="loading-bar"></div>
            </div>
        </div>
    </div>

    <div id="app-container">
        <div id="falling-icons-bg"></div>

        <!-- Exit Confirmation Modal -->
        <div id="exit-modal" class="modal-overlay">
            <div class="glass-card modal-content">
                <h3>خروج از برنامه</h3>
                <p>آیا مایل به خروج هستید؟</p>
                <div class="modal-actions">
                    <button id="exit-yes" class="glass-button secondary">بله</button>
                    <button id="exit-no" class="glass-button">خیر</button>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <main id="content">
            <!-- Home Menu -->
            <section id="tool-home" class="tool-section active">
                <div class="home-header">
                    <h1>جعبه ابزار</h1>
                    <div class="header-actions">
                        <button id="random-tool" class="random-btn-text" title="ابزار تصادفی">
                            <i data-lucide="shuffle"></i>
                            <span>شانسی برو</span>
                        </button>
                        <button id="theme-toggle" class="mini-btn"><i data-lucide="sun"></i></button>
                    </div>
                </div>
                <div class="menu-grid">
                    <div class="menu-item" data-tool="earth">
                        <i data-lucide="globe"></i>
                        <span>ساعت شهرها</span>
                    </div>
                    <div class="menu-item" data-tool="units">
                        <i data-lucide="scale"></i>
                        <span>مبدل واحد</span>
                    </div>
                    <div class="menu-item" data-tool="date">
                        <i data-lucide="calendar"></i>
                        <span>تبدیل تاریخ</span>
                    </div>

                    <div class="menu-item" data-tool="prayer">
                        <i data-lucide="moon"></i>
                        <span>اوقات شرعی</span>
                    </div>
                    <div class="menu-item" data-tool="password">
                        <i data-lucide="lock"></i>
                        <span>رمز ساز</span>
                    </div>
                    <div class="menu-item" data-tool="calendar">
                        <i data-lucide="calendar-days"></i>
                        <span>تقویم</span>
                    </div>
                    <div class="menu-item" data-tool="calc">
                        <i data-lucide="calculator"></i>
                        <span>ماشین حساب</span>
                    </div>
                    <div class="menu-item" data-tool="bmi">
                        <i data-lucide="activity"></i>
                        <span>شاخص BMI</span>
                    </div>
                    <div class="menu-item" data-tool="stopwatch">
                        <i data-lucide="timer"></i>
                        <span>کرنومتر</span>
                    </div>
                    <div class="menu-item" data-tool="text-analysis">
                        <i data-lucide="type"></i>
                        <span>تحلیل متن</span>
                    </div>
                    <div class="menu-item" data-tool="validator">
                        <i data-lucide="link-2"></i>
                        <span>اعتبار‌سنجی</span>
                    </div>
                    <div class="menu-item" data-tool="pass-strength">
                        <i data-lucide="shield-check"></i>
                        <span>قدرت رمز</span>
                    </div>
                    <div class="menu-item" data-tool="color-studio">
                        <i data-lucide="palette"></i>
                        <span>استودیو رنگ</span>
                    </div>
                    <div class="menu-item" data-tool="abjad">
                        <i data-lucide="binary"></i>
                        <span>حروف به عدد</span>
                    </div>
                    <div class="menu-item" data-tool="loan">
                        <i data-lucide="banknote"></i>
                        <span>اقساط وام</span>
                    </div>
                    <div class="menu-item" data-tool="age">
                        <i data-lucide="baby"></i>
                        <span>محاسبه سن</span>
                    </div>
                    <div class="menu-item" data-tool="plate">
                        <i data-lucide="car"></i>
                        <span>استعلام پلاک</span>
                    </div>
                    <div class="menu-item" data-tool="countdown">
                        <i data-lucide="hourglass"></i>
                        <span>شمارنده رویداد</span>
                    </div>
                    <div class="menu-item" data-tool="gpa">
                        <i data-lucide="graduation-cap"></i>
                        <span>محاسبه معدل</span>
                    </div>
                    <div class="menu-item" data-tool="luck">
                        <i data-lucide="dice-5"></i>
                        <span>تاس و سکه</span>
                    </div>
                    <div class="menu-item" data-tool="date-diff">
                        <i data-lucide="calendar-range"></i>
                        <span>اختلاف تاریخ</span>
                    </div>
                    <div class="menu-item" data-tool="day-conv">
                        <i data-lucide="history"></i>
                        <span>تبدیل روز</span>
                    </div>
                    <div class="menu-item" data-tool="gradient">
                        <i data-lucide="layers"></i>
                        <span>سازنده گرادینت</span>
                    </div>
                    <div class="menu-item" data-tool="guess-num">
                        <i data-lucide="help-circle"></i>
                        <span>حدس عدد</span>
                    </div>
                    <div class="menu-item" data-tool="lucky-wheel">
                        <i data-lucide="rotate-cw"></i>
                        <span>چرخ شانس</span>
                    </div>
                </div>
            </section>

            <!-- World Clock Tool -->
            <section id="tool-earth" class="tool-section">
                <div class="glass-card wide-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>ساعت شهرهای ایران</h3>
                    </div>
                    <div id="world-clock-list" class="scrollable-list">
                        <!-- Clocks injected by JS -->
                    </div>
                </div>
            </section>

            <!-- Unit Converter -->
            <section id="tool-units" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>مبدل واحدها</h3>
                    </div>
                    <select id="unit-type" class="glass-input">
                        <option value="length">طول (متراژ)</option>
                        <option value="weight">وزن (جرم)</option>
                        <option value="area">مساحت</option>
                        <option value="volume">حجم</option>
                        <option value="speed">سرعت</option>
                        <option value="temp">دما</option>
                    </select>
                    <div class="converter-row">
                        <input type="number" id="unit-input" placeholder="مقدار" class="glass-input">
                        <select id="unit-from" class="glass-input"></select>
                    </div>
                    <div class="converter-row">
                        <input type="number" id="unit-output" readonly class="glass-input">
                        <select id="unit-to" class="glass-input"></select>
                    </div>
                </div>
            </section>

            <!-- Date Converter -->
            <section id="tool-date" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>تبدیل تاریخ سریع</h3>
                    </div>
                    <div class="date-group">
                        <label style="font-size: 0.8rem; opacity: 0.8;">نوع تاریخ ورودی:</label>
                        <select id="date-from" class="glass-input">
                            <option value="sh">هجری شمسی (امروز)</option>
                            <option value="mi">میلادی</option>
                            <option value="gh">هجری قمری</option>
                        </select>
                        <div class="input-row">
                            <input type="number" id="date-y" placeholder="سال" class="glass-input" style="flex: 1.5;">
                            <select id="date-m" class="glass-input" style="flex: 2; padding: 12px 5px;"></select>
                            <input type="number" id="date-d" placeholder="روز" class="glass-input" style="flex: 1;">
                        </div>
                        <div id="date-results-container" style="margin-top: 20px; border-top: 1px solid var(--glass-border); padding-top: 15px;">
                            <div class="prayer-item"><span>شمسی:</span> <span id="res-sh">-</span></div>
                            <div class="prayer-item"><span>میلادی:</span> <span id="res-mi">-</span></div>
                            <div class="prayer-item"><span>قمری:</span> <span id="res-gh">-</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Prayer Times -->
            <section id="tool-prayer" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>اوقات شرعی</h3>
                    </div>
                    <div class="city-select-row">
                        <label>شهر:</label>
                        <select id="prayer-city-selector" class="glass-input mini-select">
                            <!-- Options injected by JS -->
                        </select>
                    </div>
                    <div id="prayer-times-list">
                        <div class="prayer-item"><span>اذان صبح:</span> <span id="p-fajr">-</span></div>
                        <div class="prayer-item"><span>طلوع آفتاب:</span> <span id="p-sunrise">-</span></div>
                        <div class="prayer-item"><span>اذان ظهر:</span> <span id="p-dhuhr">-</span></div>
                        <div class="prayer-item"><span>غروب آفتاب:</span> <span id="p-sunset">-</span></div>
                        <div class="prayer-item"><span>اذان مغرب:</span> <span id="p-maghrib">-</span></div>
                        <div class="prayer-item"><span>نیمه‌شب:</span> <span id="p-midnight">-</span></div>
                    </div>
                </div>
            </section>

            <!-- Password Generator -->
            <section id="tool-password" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>ساخت رمز عبور</h3>
                    </div>
                    <div class="pass-result-container">
                        <input type="text" id="pass-output" readonly class="glass-input" placeholder="رمز ایجاد شده">
                        <button id="btn-copy-pass" class="mini-btn"><i data-lucide="copy"></i></button>
                    </div>
                    <div class="pass-option">
                        <label>طول رمز: <span id="pass-len-val">12</span></label>
                        <input type="range" id="pass-length" min="6" max="32" value="12" class="glass-range">
                    </div>
                    <button id="btn-gen-pass" class="glass-button">ایجاد رمز جدید</button>
                </div>
            </section>

            <!-- Calculator -->
            <section id="tool-calc" class="tool-section">
                <div class="glass-card calc-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>ماشین حساب حرفه‌ای</h3>
                    </div>
                    <div class="calc-display">
                        <div id="calc-result"></div>
                        <div id="calc-expression">۰</div>
                    </div>
                    <div class="calc-grid">
                        <button class="calc-btn spec tiny" data-val="sin(">sin</button>
                        <button class="calc-btn spec tiny" data-val="cos(">cos</button>
                        <button class="calc-btn spec tiny" data-val="tan(">tan</button>
                        <button class="calc-btn spec tiny" data-val="log(">log</button>
                        <button class="calc-btn spec tiny" data-val="ln(">ln</button>

                        <button class="calc-btn spec tiny" data-val="sqrt(">√</button>
                        <button class="calc-btn spec tiny" data-val="**2">x²</button>
                        <button class="calc-btn spec tiny" data-val="**">xʸ</button>
                        <button class="calc-btn spec tiny" data-val="(">(</button>
                        <button class="calc-btn spec tiny" data-val=")">)</button>

                        <button class="calc-btn spec" data-val="C">C</button>
                        <button class="calc-btn spec" data-val="DEL"><i data-lucide="delete"></i></button>
                        <button class="calc-btn spec" data-val="PI">π</button>
                        <button class="calc-btn spec" data-val="E">e</button>
                        <button class="calc-btn op" data-val="/">÷</button>

                        <button class="calc-btn" data-val="7">۷</button>
                        <button class="calc-btn" data-val="8">۸</button>
                        <button class="calc-btn" data-val="9">۹</button>
                        <button class="calc-btn spec" data-val="%">%</button>
                        <button class="calc-btn op" data-val="*">×</button>

                        <button class="calc-btn" data-val="4">۴</button>
                        <button class="calc-btn" data-val="5">۵</button>
                        <button class="calc-btn" data-val="6">۶</button>
                        <button class="calc-btn spec" data-val="!">!</button>
                        <button class="calc-btn op" data-val="-">−</button>

                        <button class="calc-btn" data-val="1">۱</button>
                        <button class="calc-btn" data-val="2">۲</button>
                        <button class="calc-btn" data-val="3">۳</button>
                        <button class="calc-btn op-eq tall-btn" data-val="=" style="grid-row: span 2">=</button>
                        <button class="calc-btn op" data-val="+">+</button>

                        <button class="calc-btn wide-btn" data-val="0">۰</button>
                        <button class="calc-btn" data-val=".">.</button>
                        <button class="calc-btn op" data-val="**0.5">√x</button>
                    </div>
                </div>
            </section>

            <!-- BMI Calculator -->
            <section id="tool-bmi" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>محاسبه شاخص توده بدنی</h3>
                    </div>
                    <div class="input-group">
                        <label style="font-size: 0.85rem; display: block; margin-bottom: 5px;">قد (سانتی‌متر):</label>
                        <input type="number" id="bmi-height" placeholder="مثلا ۱۸۰" class="glass-input">
                    </div>
                    <div class="input-group" style="margin-top: 10px;">
                        <label style="font-size: 0.85rem; display: block; margin-bottom: 5px;">وزن (کیلوگرم):</label>
                        <input type="number" id="bmi-weight" placeholder="مثلا ۷۵" class="glass-input">
                    </div>
                    <button id="btn-calc-bmi" class="glass-button" style="margin-top: 20px;">محاسبه وضعیت</button>
                    
                    <div id="bmi-result-area" style="margin-top: 25px; display: none; border-top: 1px solid var(--glass-border); padding-top: 15px;">
                        <div class="prayer-item"><span>شاخص شما:</span> <span id="bmi-val" style="font-weight: bold; color: var(--primary);"></span></div>
                        <div class="prayer-item"><span>وضعیت:</span> <span id="bmi-status" style="font-weight: bold;"></span></div>
                        <p id="bmi-desc" style="font-size: 0.8rem; margin-top: 10px; text-align: center; opacity: 0.8; line-height: 1.5;"></p>
                    </div>
                </div>
            </section>

            <!-- Stopwatch -->
            <section id="tool-stopwatch" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>کرنومتر</h3>
                    </div>
                    <div class="stopwatch-display" id="sw-display">۰۰:۰۰:۰۰</div>
                    <div class="stopwatch-controls">
                        <button id="sw-reset" class="glass-button secondary">ریست</button>
                        <button id="sw-start" class="glass-button">شروع</button>
                        <button id="sw-lap" class="glass-button secondary">دور (Lap)</button>
                    </div>
                    <div id="sw-laps" class="scrollable-list" style="margin-top: 20px; max-height: 200px;">
                        <!-- Laps injected here -->
                    </div>
                </div>
            </section>

            <!-- Calendar -->
            <section id="tool-calendar" class="tool-section">
                <div class="glass-card calendar-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <div class="calendar-header-main">
                            <button id="cal-prev" class="mini-btn"><i data-lucide="chevron-right"></i></button>
                            <h3 id="cal-month-name">فروردین ۱۴۰۳</h3>
                            <button id="cal-next" class="mini-btn"><i data-lucide="chevron-left"></i></button>
                        </div>
                    </div>
                    <div id="calendar-grid">
                        <div class="day-name">ش</div>
                        <div class="day-name">ی</div>
                        <div class="day-name">د</div>
                        <div class="day-name">س</div>
                        <div class="day-name">چ</div>
                        <div class="day-name">پ</div>
                        <div class="day-name">ج</div>
                        <!-- Days injected by JS -->
                    </div>
                </div>
            </section>

            <!-- Text Analysis Tool -->
            <section id="tool-text-analysis" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>تحلیل و شمارنده متن</h3>
                    </div>
                    <textarea id="analysis-input" class="glass-input" placeholder="متن خود را اینجا بنویسید یا بچسبانید..." style="height: 150px;"></textarea>
                    <div class="analysis-grid" style="margin-top: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div class="prayer-item" style="flex-direction: column; align-items: center; border: 1px solid var(--glass-border); border-radius: 12px; padding: 10px;">
                            <span style="font-size: 0.8rem; opacity: 0.7;">تعداد حروف</span>
                            <span id="char-count" style="font-size: 1.2rem; font-weight: bold; color: var(--primary);">۰</span>
                        </div>
                        <div class="prayer-item" style="flex-direction: column; align-items: center; border: 1px solid var(--glass-border); border-radius: 12px; padding: 10px;">
                            <span style="font-size: 0.8rem; opacity: 0.7;">تعداد کلمات</span>
                            <span id="word-count" style="font-size: 1.2rem; font-weight: bold; color: var(--primary);">۰</span>
                        </div>
                    </div>
                    <div class="prayer-item" style="margin-top: 10px; padding: 15px; border: 1px solid var(--glass-border); border-radius: 12px; justify-content: center; gap: 10px;">
                        <i data-lucide="clock" style="width: 18px; color: var(--primary);"></i>
                        <span>زمان تقریبی مطالعه:</span>
                        <span id="reading-time" style="font-weight: bold;">۰ ثانیه</span>
                    </div>
                </div>
            </section>

            <!-- Validator Tool -->
            <section id="tool-validator" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>اعتبارسنجی لینک و ایمیل</h3>
                    </div>
                    <div class="input-group">
                        <label style="font-size: 0.85rem; display: block; margin-bottom: 5px;">ایمیل یا لینک را وارد کنید:</label>
                        <input type="text" id="validator-input" placeholder="example@mail.com یا https://google.com" class="glass-input">
                    </div>
                    <div id="validator-results" style="margin-top: 20px;">
                        <div class="prayer-item">
                            <span>فرمت ایمیل:</span>
                            <span id="email-valid" class="status-badge">-</span>
                        </div>
                        <div class="prayer-item" style="margin-top: 10px;">
                            <span>فرمت لینک (URL):</span>
                            <span id="url-valid" class="status-badge">-</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Password Strength -->
            <section id="tool-pass-strength" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>بررسی قدرت رمز عبور</h3>
                    </div>
                    <div class="password-input-wrapper">
                        <input type="password" id="strength-input" placeholder="رمز عبور را وارد کنید..." class="glass-input">
                        <button id="toggle-strength-pass" class="eye-btn"><i data-lucide="eye"></i></button>
                    </div>
                    <div class="strength-meter">
                        <div id="strength-bar"></div>
                    </div>
                    <div id="strength-text" style="text-align: center; margin-top: 10px; font-weight: bold; font-size: 0.9rem;">-</div>
                    <ul id="strength-tips" style="margin-top: 15px; font-size: 0.75rem; opacity: 0.8; padding-right: 20px; line-height: 1.6;">
                        <!-- Tips -->
                    </ul>
                </div>
            </section>

            <!-- Color Studio -->
            <section id="tool-color-studio" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>استودیو و مبدل رنگ</h3>
                    </div>
                    <div class="color-preview-container">
                        <div id="color-preview"></div>
                        <input type="color" id="color-picker" value="#4a90e2">
                    </div>
                    <div class="input-group" style="margin-top: 20px;">
                        <label>HEX:</label>
                        <input type="text" id="color-hex" class="glass-input" dir="ltr">
                    </div>
                    <div class="input-group">
                        <label>RGB:</label>
                        <input type="text" id="color-rgb" class="glass-input" dir="ltr" readonly>
                    </div>
                    <div class="input-group">
                        <label>HSL:</label>
                        <input type="text" id="color-hsl" class="glass-input" dir="ltr" readonly>
                    </div>
                </div>
            </section>

            <!-- Letter to Number (Abjad) -->
            <section id="tool-abjad" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>مبدل حروف به عدد (ابجد)</h3>
                    </div>
                    <textarea id="abjad-input" class="glass-input" placeholder="متن خود را اینجا بنویسید..." style="height: 120px;"></textarea>
                    <div class="prayer-item" style="margin-top: 15px; border-bottom: none; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; flex-direction: column; align-items: center; gap: 10px;">
                        <span style="opacity: 0.7;">محاسبه عدد ابجد:</span>
                        <span id="abjad-result" style="font-size: 2.5rem; font-weight: bold; color: var(--primary);">۰</span>
                    </div>
                </div>
            </section>

            <!-- Loan Calculator -->
            <section id="tool-loan" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>محاسبه اقساط وام</h3>
                    </div>
                    <div class="input-group">
                        <label>مبلغ وام (تومان):</label>
                        <input type="number" id="loan-amount" placeholder="مثلا ۱۰۰,۰۰۰,۰۰۰" class="glass-input">
                    </div>
                    <div class="input-group">
                        <label>سود سالانه (درصد):</label>
                        <input type="number" id="loan-rate" placeholder="مثلا ۱۸" class="glass-input">
                    </div>
                    <div class="input-group">
                        <label>مدت بازپرداخت (ماه):</label>
                        <input type="number" id="loan-months" placeholder="مثلا ۱۲" class="glass-input">
                    </div>
                    <div id="loan-results" style="margin-top: 20px; display: none; border-top: 1px solid var(--glass-border); padding-top: 15px;">
                        <div class="prayer-item"><span>قسط ماهیانه:</span> <span id="loan-monthly" style="font-weight: bold; color: var(--primary);">۰</span></div>
                        <div class="prayer-item"><span>کل سود:</span> <span id="loan-total-interest">۰</span></div>
                        <div class="prayer-item"><span>کل بازپرداخت:</span> <span id="loan-total-pay">۰</span></div>
                    </div>
                </div>
            </section>

            <!-- Age Calculator -->
            <section id="tool-age" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>محاسبه سن دقیق</h3>
                    </div>
                    <div class="input-group">
                        <label>تاریخ تولد (شمسی):</label>
                        <div class="input-row">
                            <input type="number" id="age-y" placeholder="سال" class="glass-input" style="flex: 1.5;">
                            <select id="age-m" class="glass-input" style="flex: 2; padding: 12px 5px;"></select>
                            <input type="number" id="age-d" placeholder="روز" class="glass-input" style="flex: 1;">
                        </div>
                    </div>
                    <button id="btn-calc-age" class="glass-button" style="margin-top: 15px;">محاسبه سن</button>
                    <div id="age-results" style="margin-top: 25px; display: none; border-top: 1px solid var(--glass-border); padding-top: 15px;">
                        <div class="prayer-item"><span>سن شما:</span> <span id="age-val" style="font-weight: bold; color: var(--primary);"></span></div>
                        <div class="prayer-item"><span>روز تولد:</span> <span id="age-weekday"></span></div>
                        <div class="prayer-item"><span>تا تولد بعدی:</span> <span id="age-next"></span></div>
                    </div>
                </div>
            </section>

            <!-- License Plate Checker -->
            <section id="tool-plate" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>استعلام شهر پلاک خودرو</h3>
                    </div>
                    <div class="plate-input-container">
                        <div class="plate-visual">
                            <div class="plate-blue"></div>
                            <div class="plate-main">
                                <span>ایران</span>
                                <input type="number" id="plate-code" placeholder="---" maxlength="2">
                            </div>
                        </div>
                    </div>
                    <div id="plate-result-box" style="margin-top: 25px; display: none; text-align: center;">
                        <h2 id="plate-city" style="color: var(--primary);">تهران</h2>
                        <p id="plate-province" style="opacity: 0.7; margin-top: 5px;"></p>
                    </div>
                </div>
            </section>

            <!-- Event Countdown -->
            <section id="tool-countdown" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>شمارش معکوس رویداد</h3>
                    </div>
                    <select id="event-preset" class="glass-input">
                        <option value="custom">رویداد دلخواه</option>
                    </select>
                    <div id="custom-event-inputs">
                        <label style="font-size: 0.8rem; opacity: 0.8;">تاریخ رویداد (شمسی):</label>
                        <div class="input-row">
                            <input type="number" id="event-y" placeholder="سال" class="glass-input" style="flex: 1.5;">
                            <select id="event-m" class="glass-input" style="flex: 2; padding: 12px 5px;"></select>
                            <input type="number" id="event-d" placeholder="روز" class="glass-input" style="flex: 1;">
                        </div>
                    </div>
                    <div id="countdown-display" style="margin-top: 25px; text-align: center;">
                        <div style="display: flex; justify-content: center; gap: 10px;">
                            <div class="countdown-box"><span id="cd-days">۰</span><small>روز</small></div>
                            <div class="countdown-box"><span id="cd-hours">۰</span><small>ساعت</small></div>
                            <div class="countdown-box"><span id="cd-mins">۰</span><small>دقیقه</small></div>
                        </div>
                        <p id="cd-status" style="margin-top: 15px; font-weight: bold; color: var(--primary);"></p>
                    </div>
                </div>
            </section>

            <!-- Luck Tool (Dice & Coin) -->
            <section id="tool-luck" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>تاس و سکه</h3>
                    </div>
                    <div class="luck-container">
                        <div id="dice-display" class="dice-box">۶</div>
                        <div class="input-group">
                            <label>حداکثر وجه تاس:</label>
                            <input type="number" id="dice-max" value="6" min="2" class="glass-input">
                        </div>
                        <button id="btn-roll-dice" class="glass-button" style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                            <span class="custom-dual-icon" aria-hidden style="display:inline-flex; gap:6px; align-items:center; line-height:0;">
                                <!-- Dice/rounded shape SVG (provided) -->
                                <svg viewBox="-11.3 0 209.43 209.43" xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="width:20px; height:20px; display:block;">
                                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                                   <defs><style>.cls-1{fill:#ffffff;}</style></defs>
                                   <g id="Layer_2" data-name="Layer 2">
                                     <g id="Layer_1-2" data-name="Layer 1">
                                       <path d="M2.77,58.54c1.83-1.69,2.94-2.6,3.91-3.65,21.59-23.37,48.39-39,77.1-51.8,1.56-.69,3.21-1.21,4.8-1.86A15,15,0,0,1,99.38.81a210.83,210.83,0,0,1,29.3,12.07c14.61,7.29,28.95,15,41.88,25.12,5.84,4.57,9.94,9.92,11,17.49,1.27,9.05,3,18,4.43,27.06a32.56,32.56,0,0,1,.43,5.12q0,24.45-.11,48.9c0,.57-.29,1.21-.12,1.7,2.12,6.39-1.36,10.93-4.92,15.52-7.08,9.14-16.1,16.26-24.76,23.72-9.09,7.85-18.49,15.34-27.78,23-2,1.64-4,3.21-6.1,4.73a21.08,21.08,0,0,1-17,3.84c-18.08-3.14-35.86-7.26-53-14-5-2-10.14-3.9-15.27-5.69-8.42-2.95-15.93-7.68-23.74-11.84C6.45,173.65,2.55,168,2.44,159.62c-.11-7.72-.76-15.43-1.13-23.15-.48-10-1.09-20-1.29-30-.13-6.27.38-12.55.65-18.83.07-1.71.3-3.42.42-5.13C1.66,74.52,2.21,66.55,2.77,58.54Zm7.31,6.07C9.52,67.78,8.94,70,8.77,72.26,8.2,79.39,7.4,86.53,7.4,93.67c0,8.85.71,17.71,1.08,26.57.57,13.74,1.22,27.48,1.6,41.23.11,3.89,1.53,6.61,4.91,8.33,6.38,3.23,12.65,6.71,19.21,9.55,6,2.61,12.35,4.54,18.56,6.72,7.56,2.65,14.93,6,23,6.92a66.74,66.74,0,0,1,17.37,4.55c4.19,1.69,8.58,3.23,13.83,2.27.1-2.27.34-4.49.29-6.7-.34-15.46-.8-30.93-1.1-46.39-.17-9.17,0-18.35-.23-27.51-.11-5.41.2-10.88-1.57-16.73-7-.39-12.66-4.45-18.64-7.75-3-1.66-6-3.38-9-5C60.52,80.86,42.92,75.6,25.63,69.55,20.78,67.86,15.84,66.43,10.08,64.61Zm155.4-19.06a55.61,55.61,0,0,0-5.36-4.68A340.84,340.84,0,0,0,105,11.53c-6.87-2.89-13-2.75-19.78-.07C68.88,17.86,54,26.73,39.82,36.91A162.64,162.64,0,0,0,19.3,53.77C18,55.06,16,56.31,17.16,58.87a15.18,15.18,0,0,0,2.31.9c14,3.1,27.35,8.29,40.77,13.18,7,2.54,13.64,5.86,20.35,9,9.24,4.39,17.81,10.16,27.9,13.57ZM113,102.44c-.12,1.64-.3,2.78-.27,3.92q.69,31.33,1.43,62.67.28,11.17.78,22.33c.12,2.43.11,5,2.32,7.14a21.91,21.91,0,0,0,3.15-1.84c12.06-10.13,24.19-20.18,36.08-30.51,4.74-4.12,9.25-8.45,14.27-12.32,5.17-4,9.82-8.86,7.67-16.71-.57-2.09.23-4.54.34-6.83.24-5.15.61-10.29.6-15.44,0-8.31-.25-16.61-.49-24.91a132.4,132.4,0,0,0-6.32-37.6,50.59,50.59,0,0,0-5.29,3.27c-8.9,7.21-17.73,14.51-26.58,21.78a19.45,19.45,0,0,0-1.86,1.77,135.23,135.23,0,0,1-19.76,17.73A62,62,0,0,0,113,102.44Z"></path>
                                       <path class="cls-1" d="M10.08,64.61c5.76,1.82,10.7,3.25,15.55,4.94,17.29,6,34.89,11.31,51.07,20.15,3,1.65,6,3.37,9,5,6,3.3,11.62,7.36,18.64,7.75,1.77,5.85,1.46,11.32,1.57,16.73.19,9.16.06,18.34.23,27.51.3,15.46.76,30.93,1.1,46.39.05,2.21-.19,4.43-.29,6.7-5.25,1-9.64-.58-13.83-2.27A66.74,66.74,0,0,0,75.75,193c-8.06-1-15.43-4.27-23-6.92-6.21-2.18-12.54-4.11-18.56-6.72C27.64,176.51,21.37,173,15,169.8c-3.38-1.72-4.8-4.44-4.91-8.33-.38-13.75-1-27.49-1.6-41.23-.37-8.86-1.09-17.72-1.08-26.57,0-7.14.8-14.28,1.37-21.41C8.94,70,9.52,67.78,10.08,64.61ZM29.31,81.23c-4.82-.08-7.81,1.23-9.57,4.64a23.9,23.9,0,0,0-2.41,5.44c-2.4,10.64,1.85,16,11.69,17.74,7.6,1.31,12.6-3,13.17-10.76a19.52,19.52,0,0,0-1.94-9.06A12.71,12.71,0,0,0,29.31,81.23ZM86.72,132c1.14-.14,2.56-.22,4-.51,4.39-.91,6.46-3.24,6.12-7.8-.74-9.74-3.91-13.83-11.49-17.35-3-1.37-5.23-.43-7.4,2.14-2.94,3.48-3.8,7.57-3.82,11.91,0,7.41,2.55,10.35,9.81,11.31C84.74,131.76,85.59,131.83,86.72,132ZM40.25,154.68c.15-6-5-12.64-10.83-14.26-7.11-2-12.39,1.76-13,9.19a28.71,28.71,0,0,0,0,4.25c.59,8.36,6.8,13.4,15.06,12.19,2.91-.43,5.63-1.53,6.82-4.41A50.25,50.25,0,0,0,40.25,154.68Zm57.35,19.7c-.16-6.21-6.72-13.94-13.06-15.25a5.4,5.4,0,0,0-3.34.19c-6.1,3.13-8.82,6-8.46,12.4.4,7.33,3.51,10.63,11.05,11.67a22.57,22.57,0,0,0,5.92.07C95.4,182.72,97.75,179.92,97.6,174.38Z"></path>
                                       <path class="cls-1" d="M165.48,45.55l-57,50C98.4,92.16,89.83,86.39,80.59,82c-6.71-3.19-13.39-6.51-20.35-9C46.82,68.06,33.47,62.87,19.47,59.77a15.18,15.18,0,0,1-2.31-.9c-1.12-2.56.85-3.81,2.14-5.1A162.64,162.64,0,0,1,39.82,36.91c14.2-10.18,29.06-19,45.4-25.45,6.83-2.68,12.91-2.82,19.78.07a340.84,340.84,0,0,1,55.12,29.34A55.61,55.61,0,0,1,165.48,45.55ZM91,37.37c-4.45-1.1-7.86,2.51-10.15,7.55-3.71,8.15.4,16.55,9,18.71,6.87,1.73,11.67-.58,15.84-6.9,3.06-4.65,2.47-8.86.4-13.68-2-4.67-6-4.66-9.8-5.41A48.45,48.45,0,0,0,91,37.37Z"></path>
                                       <path class="cls-1" d="M113,102.44a62,62,0,0,1,6.07-5.55,135.23,135.23,0,0,0,19.76-17.73,19.45,19.45,0,0,1,1.86-1.77c8.85-7.27,17.68-14.57,26.58-21.78a50.59,50.59,0,0,1,5.29-3.27,132.4,132.4,0,0,1,6.32,37.6c.24,8.3.47,16.6.49,24.91,0,5.15-.36,10.29-.6,15.44-.11,2.29-.91,4.74-.34,6.83,2.15,7.85-2.5,12.73-7.67,16.71-5,3.87-9.53,8.2-14.27,12.32-11.89,10.33-24,20.38-36.08,30.51a21.91,21.91,0,0,1-3.15,1.84c-2.21-2.11-2.2-4.71-2.32-7.14q-.51-11.16-.78-22.33-.76-31.34-1.43-62.67C112.7,105.22,112.88,104.08,113,102.44Zm5.68,58.12c.16,1.31.41,3,.57,4.69.36,3.79,2.24,6.44,5.89,7.56,4.55,1.39,9.51,1.78,12.87-1.85,8-8.69,4-21.19-4.65-25.37-3.29-1.59-6.59-.67-9.24,2.21C120.9,151.3,119.52,155.59,118.68,160.56ZM149.29,80.8c.08,7.65,5.24,13.39,11.7,13.86a5.91,5.91,0,0,0,4.5-1.8,36.34,36.34,0,0,0,5.12-8.78c1.95-5.08-1.67-12.08-6.79-14-4.8-1.85-11.27,1.06-13.45,6.26A21.92,21.92,0,0,0,149.29,80.8Z"></path>
                                     </g>
                                   </g>
                                  </g>
                                </svg>
                                <!-- Coin / second SVG (provided) -->
                                <svg version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="currentColor" style="width:20px; height:20px; display:block;">
                                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">  .st0{fill:#000000;}  </style><g> <path class="st0" d="M145.46,54.401l1.984,9.344c0.844-0.375,1.703-0.75,2.547-1.094c0.844-0.359,1.672-0.688,2.5-0.984 c0.813-0.313,1.609-0.609,2.422-0.875c0.797-0.266,1.578-0.5,2.359-0.734c1.313-0.359,2.688-0.594,3.969-0.719 c1.297-0.125,2.531-0.172,3.594-0.141c1.078,0.016,1.984,0.078,2.641,0.141c0.672,0.063,1.094,0.125,1.188,0.125l0.484,0.047 l0.453,0.172l0.359,0.297l0.25,0.406l0.125,0.5v0.563l-0.141,0.578l-0.234,0.578l-5.422,10.016l-0.328,0.5l-0.375,0.438 l-0.406,0.375l-0.484,0.297l-0.25,0.141l-0.297,0.109l-0.25,0.047l-0.297,0.047c-0.063,0-0.359-0.047-0.844-0.063 c-0.5-0.031-1.188-0.031-1.969-0.031s-1.641,0.063-2.578,0.188c-0.922,0.109-1.875,0.281-2.781,0.547 c-0.906,0.25-1.797,0.563-2.719,0.891c-0.906,0.344-1.828,0.703-2.766,1.078c-0.922,0.406-1.844,0.813-2.797,1.297 c-0.922,0.438-1.891,0.938-2.828,1.453c-1.25,0.688-2.406,1.359-3.469,2.078s-2,1.438-2.891,2.156 c-0.859,0.719-1.656,1.453-2.344,2.203c-0.703,0.75-1.281,1.5-1.797,2.25c-0.5,0.781-0.922,1.547-1.281,2.297 c-0.313,0.766-0.594,1.516-0.766,2.25c-0.172,0.75-0.281,1.484-0.313,2.203c0,0.719,0.063,1.438,0.203,2.141 c0.156,0.625,0.297,1.219,0.547,1.719c0.219,0.5,0.484,0.938,0.781,1.313c0.328,0.359,0.672,0.688,1.078,0.938 c0.406,0.219,0.844,0.391,1.344,0.5s1.078,0.141,1.703,0.109s1.313-0.125,2.094-0.281c0.75-0.172,1.578-0.453,2.453-0.75 c0.922-0.313,1.875-0.703,2.906-1.188l11.438-5.281c2.141-0.984,4.172-1.813,6.094-2.469c1.906-0.672,3.688-1.188,5.391-1.547 c1.688-0.359,3.266-0.563,4.719-0.609c1.5-0.031,2.859,0.078,4.125,0.344c1.25,0.266,2.391,0.703,3.406,1.313 c1.047,0.609,1.953,1.406,2.75,2.359s1.469,2.063,2.063,3.375c0.547,1.297,1.016,2.766,1.359,4.406 c0.203,0.984,0.359,1.969,0.438,2.938c0.063,0.984,0.094,1.953,0.078,2.938c-0.047,0.969-0.125,1.938-0.297,2.922 c-0.156,0.953-0.344,1.938-0.609,2.875c-0.266,1-0.594,1.969-0.953,2.922c-0.359,0.969-0.781,1.906-1.234,2.844 c-0.453,0.953-0.953,1.859-1.5,2.797c-0.547,0.922-1.156,1.844-1.781,2.75c-0.641,0.906-1.328,1.813-2.031,2.703 c-0.734,0.891-1.5,1.766-2.313,2.625c-0.813,0.875-1.672,1.719-2.563,2.563c-0.906,0.844-1.828,1.672-2.828,2.484 c-0.438,0.344-0.875,0.688-1.313,1.047c-0.438,0.328-0.891,0.672-1.328,1c-0.453,0.344-0.906,0.672-1.391,1.016 c-0.469,0.328-0.922,0.641-1.391,0.969l2.313,11.141l-14.375,7.891l-2.266-10.906c-1.047,0.484-2.078,0.922-3.078,1.375 c-1.031,0.438-2.047,0.828-3.063,1.219c-0.984,0.375-2,0.734-2.984,1.047c-1,0.328-1.969,0.625-2.938,0.906 c-1.484,0.438-3.094,0.641-4.703,0.719c-1.594,0.078-3.172,0.031-4.609-0.078c-1.391-0.109-2.625-0.266-3.547-0.406 c-0.906-0.141-1.484-0.266-1.594-0.281l-0.516-0.078l-0.406-0.188l-0.344-0.297l-0.219-0.422l-0.094-0.5l0.016-0.531l0.125-0.578 l0.234-0.578l5.828-10.609l0.313-0.484l0.375-0.422l0.406-0.359l0.438-0.297l0.328-0.156l0.313-0.109l0.359-0.063l0.313-0.016 c0.078,0.016,0.516,0.109,1.188,0.203c0.656,0.109,1.563,0.25,2.609,0.328c1.031,0.109,2.203,0.156,3.359,0.109 c1.172-0.063,2.344-0.203,3.438-0.484c1.063-0.313,2.109-0.641,3.172-1c1.063-0.375,2.094-0.766,3.141-1.188 c1.031-0.438,2.063-0.875,3.109-1.391c1.031-0.484,2.016-1.016,3.031-1.547c1.281-0.703,2.5-1.422,3.625-2.172 c1.156-0.75,2.25-1.5,3.234-2.297c1.031-0.781,1.984-1.609,2.859-2.438s1.688-1.672,2.438-2.563 c0.75-0.875,1.391-1.766,1.906-2.641c0.516-0.859,0.922-1.75,1.203-2.625c0.281-0.891,0.438-1.781,0.484-2.656 c0.063-0.875,0-1.781-0.203-2.656c-0.109-0.625-0.297-1.203-0.531-1.703c-0.219-0.531-0.469-0.969-0.797-1.359 c-0.313-0.391-0.656-0.734-1.078-0.969c-0.406-0.266-0.844-0.469-1.328-0.625c-0.469-0.141-1.031-0.203-1.641-0.203 c-0.625,0-1.297,0.078-2.063,0.219c-0.734,0.172-1.547,0.391-2.422,0.688c-0.875,0.281-1.813,0.656-2.813,1.094l-13.094,6.047 c-1.938,0.891-3.797,1.625-5.547,2.219c-1.766,0.609-3.422,1.063-5.016,1.375c-1.547,0.313-3.031,0.5-4.422,0.547 c-1.391,0.031-2.672-0.063-3.875-0.328c-1.203-0.219-2.297-0.641-3.281-1.25c-0.984-0.563-1.844-1.328-2.625-2.281 c-0.766-0.938-1.422-2.063-1.969-3.344c-0.563-1.297-1-2.766-1.359-4.406c-0.172-0.906-0.328-1.797-0.375-2.719 c-0.094-0.906-0.109-1.797-0.094-2.734c0.047-0.906,0.141-1.813,0.266-2.75c0.156-0.922,0.344-1.828,0.594-2.766 s0.531-1.844,0.875-2.766c0.328-0.922,0.703-1.844,1.125-2.719c0.422-0.906,0.859-1.781,1.375-2.656 c0.484-0.891,1.047-1.766,1.625-2.625c0.594-0.875,1.203-1.719,1.875-2.547c0.656-0.844,1.344-1.672,2.063-2.469 c0.734-0.813,1.484-1.625,2.281-2.391c0.813-0.781,1.625-1.531,2.484-2.281c0.344-0.313,0.734-0.625,1.109-0.922 s0.75-0.609,1.109-0.891c0.406-0.297,0.781-0.578,1.172-0.859c0.391-0.297,0.797-0.578,1.172-0.859l-1.984-9.547L145.46,54.401z"></path> </g></g>
                                </svg>
                            </span>
                            بنداز!
                        </button>
                        
                        <hr>
                        
                        <div id="coin-display" class="coin-box">شیر</div>
                        <button id="btn-flip-coin" class="glass-button secondary" style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                            <span class="custom-dual-icon" aria-hidden style="display:inline-flex; gap:6px; align-items:center; line-height:0;">
                                <!-- same pair of SVGs for the coin action -->
                                <svg viewBox="-11.3 0 209.43 209.43" xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="width:20px; height:20px; display:block;">
                                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                                   <defs><style>.cls-1{fill:#ffffff;}</style></defs>
                                   <g id="Layer_2" data-name="Layer 2">
                                     <g id="Layer_1-2" data-name="Layer 1">
                                       <path d="M2.77,58.54c1.83-1.69,2.94-2.6,3.91-3.65,21.59-23.37,48.39-39,77.1-51.8,1.56-.69,3.21-1.21,4.8-1.86A15,15,0,0,1,99.38.81a210.83,210.83,0,0,1,29.3,12.07c14.61,7.29,28.95,15,41.88,25.12,5.84,4.57,9.94,9.92,11,17.49,1.27,9.05,3,18,4.43,27.06a32.56,32.56,0,0,1,.43,5.12q0,24.45-.11,48.9c0,.57-.29,1.21-.12,1.7,2.12,6.39-1.36,10.93-4.92,15.52-7.08,9.14-16.1,16.26-24.76,23.72-9.09,7.85-18.49,15.34-27.78,23-2,1.64-4,3.21-6.1,4.73a21.08,21.08,0,0,1-17,3.84c-18.08-3.14-35.86-7.26-53-14-5-2-10.14-3.9-15.27-5.69-8.42-2.95-15.93-7.68-23.74-11.84C6.45,173.65,2.55,168,2.44,159.62c-.11-7.72-.76-15.43-1.13-23.15-.48-10-1.09-20-1.29-30-.13-6.27.38-12.55.65-18.83.07-1.71.3-3.42.42-5.13C1.66,74.52,2.21,66.55,2.77,58.54Zm7.31,6.07C9.52,67.78,8.94,70,8.77,72.26,8.2,79.39,7.4,86.53,7.4,93.67c0,8.85.71,17.71,1.08,26.57.57,13.74,1.22,27.48,1.6,41.23.11,3.89,1.53,6.61,4.91,8.33,6.38,3.23,12.65,6.71,19.21,9.55,6,2.61,12.35,4.54,18.56,6.72,7.56,2.65,14.93,6,23,6.92a66.74,66.74,0,0,1,17.37,4.55c4.19,1.69,8.58,3.23,13.83,2.27.1-2.27.34-4.49.29-6.7-.34-15.46-.8-30.93-1.1-46.39-.17-9.17,0-18.35-.23-27.51-.11-5.41.2-10.88-1.57-16.73-7-.39-12.66-4.45-18.64-7.75-3-1.66-6-3.38-9-5C60.52,80.86,42.92,75.6,25.63,69.55,20.78,67.86,15.84,66.43,10.08,64.61Zm155.4-19.06a55.61,55.61,0,0,0-5.36-4.68A340.84,340.84,0,0,0,105,11.53c-6.87-2.89-13-2.75-19.78-.07C68.88,17.86,54,26.73,39.82,36.91A162.64,162.64,0,0,0,19.3,53.77C18,55.06,16,56.31,17.16,58.87a15.18,15.18,0,0,0,2.31.9c14,3.1,27.35,8.29,40.77,13.18,7,2.54,13.64,5.86,20.35,9,9.24,4.39,17.81,10.16,27.9,13.57ZM113,102.44c-.12,1.64-.3,2.78-.27,3.92q.69,31.33,1.43,62.67.28,11.17.78,22.33c.12,2.43.11,5,2.32,7.14a21.91,21.91,0,0,0,3.15-1.84c12.06-10.13,24.19-20.18,36.08-30.51,4.74-4.12,9.25-8.45,14.27-12.32,5.17-4,9.82-8.86,7.67-16.71-.57-2.09.23-4.54.34-6.83.24-5.15.61-10.29.6-15.44,0-8.31-.25-16.61-.49-24.91a132.4,132.4,0,0,0-6.32-37.6,50.59,50.59,0,0,0-5.29,3.27c-8.9,7.21-17.73,14.51-26.58,21.78a19.45,19.45,0,0,0-1.86,1.77,135.23,135.23,0,0,1-19.76,17.73A62,62,0,0,0,113,102.44Z"></path></g></g>
                                </svg>
                            </span>
                            سکه بنداز
                        </button>
                    </div>
                </div>
            </section>

            <!-- Date Difference -->
            <section id="tool-date-diff" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>محاسبه اختلاف تاریخ</h3>
                    </div>
                    <div class="input-group">
                        <label>تاریخ اول (شمسی):</label>
                        <div class="input-row">
                            <input type="number" id="dd-y1" placeholder="سال" class="glass-input" style="flex: 1.5;">
                            <select id="dd-m1" class="glass-input" style="flex: 2; padding: 12px 5px;"></select>
                            <input type="number" id="dd-d1" placeholder="روز" class="glass-input" style="flex: 1;">
                        </div>
                    </div>
                    <div class="input-group" style="margin-top: 15px;">
                        <label>تاریخ دوم (شمسی):</label>
                        <div class="input-row">
                            <input type="number" id="dd-y2" placeholder="سال" class="glass-input" style="flex: 1.5;">
                            <select id="dd-m2" class="glass-input" style="flex: 2; padding: 12px 5px;"></select>
                            <input type="number" id="dd-d2" placeholder="روز" class="glass-input" style="flex: 1;">
                        </div>
                    </div>
                    <div id="date-diff-results" style="margin-top: 25px; border-top: 1px solid var(--glass-border); padding-top: 15px;">
                        <div class="prayer-item"><span>اختلاف روز:</span> <span id="dd-res-days" style="font-weight: bold; color: var(--primary);">۰</span></div>
                        <div class="prayer-item"><span>اختلاف ساعت:</span> <span id="dd-res-hours">۰</span></div>
                    </div>
                </div>
            </section>

            <!-- Day Converter -->
            <section id="tool-day-conv" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>تبدیل روز به هفته و ماه</h3>
                    </div>
                    <div class="input-group">
                        <label>تعداد روز را وارد کنید:</label>
                        <input type="number" id="day-conv-input" placeholder="مثلاً ۴۵" class="glass-input">
                    </div>
                    <div id="day-conv-results" style="margin-top: 25px; border-top: 1px solid var(--glass-border); padding-top: 15px;">
                        <div class="prayer-item" style="flex-direction: column; align-items: center; gap: 10px; padding: 20px;">
                            <span style="opacity: 0.7;">معادل تقریباً:</span>
                            <span id="day-conv-text" style="font-size: 1.2rem; font-weight: bold; color: var(--primary); text-align: center;">-</span>
                        </div>
                        <div class="prayer-item"><span>تعداد هفته:</span> <span id="day-res-weeks">۰</span></div>
                        <div class="prayer-item"><span>تعداد ماه (۳۰ روزه):</span> <span id="day-res-months">۰</span></div>
                    </div>
                </div>
            </section>

            <!-- Gradient Generator -->
            <section id="tool-gradient" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>سازنده گرادینت</h3>
                    </div>
                    <div id="grad-preview" style="width: 100%; height: 120px; border-radius: 15px; border: 2px solid var(--glass-border); margin-bottom: 20px;"></div>
                    <div class="input-row">
                        <div style="flex:1">
                            <label style="font-size: 0.7rem; display: block;">رنگ اول:</label>
                            <input type="color" id="grad-c1" value="#4a90e2" class="glass-input" style="height: 50px; padding: 2px;">
                        </div>
                        <div style="flex:1">
                            <label style="font-size: 0.7rem; display: block;">رنگ دوم:</label>
                            <input type="color" id="grad-c2" value="#9b51e0" class="glass-input" style="height: 50px; padding: 2px;">
                        </div>
                    </div>
                    <div class="input-group" style="margin-top: 10px;">
                        <label>زاویه: <span id="grad-angle-val">۹۰</span> درجه</label>
                        <input type="range" id="grad-angle" min="0" max="360" value="90" class="glass-range">
                    </div>
                    <textarea id="grad-css" class="glass-input" readonly style="height: 80px; font-size: 0.8rem; direction: ltr; margin-top: 15px; font-family: monospace;"></textarea>
                    <button id="btn-copy-grad" class="glass-button">کپی کد CSS</button>
                </div>
            </section>

            <!-- GPA Calculator -->
            <section id="tool-gpa" class="tool-section">
                <div class="glass-card wide-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>محاسبه معدل</h3>
                    </div>
                    <div id="gpa-rows-container" class="scrollable-list" style="max-height: 300px; margin-bottom: 15px;">
                        <!-- Rows injected by JS -->
                    </div>
                    <button id="btn-add-subject" class="glass-button secondary" style="margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i data-lucide="plus" style="width: 18px;"></i> افزودن درس
                    </button>
                    <div class="prayer-item" style="border-top: 1px solid var(--glass-border); padding-top: 15px; margin-top: 10px; border-bottom: none;">
                        <span style="font-size: 1.1rem; font-weight: bold;">معدل کل:</span>
                        <span id="gpa-result" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">۰.۰۰</span>
                    </div>
                </div>
            </section>

            <!-- Guess Number Game -->
            <section id="tool-guess-num" class="tool-section">
                <div class="glass-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>بازی حدس عدد</h3>
                    </div>
                    <div class="difficulty-picker">
                        <button class="diff-btn active" data-level="easy">آسان (۱-۵۰)</button>
                        <button class="diff-btn" data-level="medium">متوسط (۱-۱۰۰)</button>
                        <button class="diff-btn" data-level="hard">سخت (۱-۵۰۰)</button>
                    </div>
                    <div class="game-area">
                        <div id="gn-feedback" class="feedback-msg">بازی را شروع کنید!</div>
                        <div class="gn-stepper-container">
                            <div class="digit-stepper" data-pos="100">
                                <button class="stepper-arrow up"><i data-lucide="chevron-up"></i></button>
                                <div class="digit-box">۰</div>
                                <button class="stepper-arrow down"><i data-lucide="chevron-down"></i></button>
                            </div>
                            <div class="digit-stepper" data-pos="10">
                                <button class="stepper-arrow up"><i data-lucide="chevron-up"></i></button>
                                <div class="digit-box">۰</div>
                                <button class="stepper-arrow down"><i data-lucide="chevron-down"></i></button>
                            </div>
                            <div class="digit-stepper" data-pos="1">
                                <button class="stepper-arrow up"><i data-lucide="chevron-up"></i></button>
                                <div class="digit-box">۱</div>
                                <button class="stepper-arrow down"><i data-lucide="chevron-down"></i></button>
                            </div>
                        </div>
                        <button id="btn-guess-num" class="glass-button" style="margin-top: 20px;">بررسی حدس</button>
                        <div id="gn-stats" style="margin-top: 15px; font-size: 0.85rem; opacity: 0.8;">
                            فرصت‌های باقی‌مانده: <span id="gn-tries">۱۰</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Lucky Wheel -->
            <section id="tool-lucky-wheel" class="tool-section">
                <div class="glass-card wide-card">
                    <div class="card-header">
                        <button class="back-btn-mini"><i data-lucide="arrow-right"></i></button>
                        <h3>چرخ شانس</h3>
                    </div>
                    <div class="wheel-container">
                        <div class="wheel-pointer"></div>
                        <canvas id="lucky-wheel-canvas" width="300" height="300"></canvas>
                    </div>
                    <button id="btn-spin-wheel" class="glass-button" style="margin-top: 15px;">بچرخون!</button>
                    <div class="input-group" style="margin-top: 25px;">
                        <label style="margin-bottom: 10px; display: block;">گزینه‌های چرخ:</label>
                        <div id="wheel-options-list">
                            <!-- Dynamic inputs -->
                        </div>
                        <button id="btn-add-wheel-option" class="glass-button secondary" style="margin-top: 10px; padding: 8px;">
                            <i data-lucide="plus" style="width: 16px; vertical-align: middle;"></i> افزودن گزینه
                        </button>
                    </div>
                </div>
            </section>
        </main>


    </div>

    <script type="module" src="app.js"></script>
</body>
</html>